% \begin{tikzLTS}

  \begin{tikzpicture}[node distance=2cm,inner sep=1pt,minimum size=0.5mm,bend angle=20]
	 	\tikzstyle{proc} = [rectangle,draw=black,fill=green!20,thick,inner sep=10pt]
	  	\tikzstyle{state} = [circle,draw=black,thick,inner sep=3pt]
	  	\tikzstyle{noproc} = [circle]
	  	\tikzstyle{lbl} = [rectangle,node distance=2cm]
  		\tikzstyle{pre} = [ <-,shorten <=2pt,shorten >=2pt, >=stealth', semithick]
	  	\tikzstyle{post} = [ ->,shorten <=2pt,shorten >=2pt, >=stealth', semithick]
  
  
\tikzstyle{state} = [circle,draw=black,thick,inner sep=1.5pt, text width={width("$\text{init}_2$")}, align=center]
\tikzstyle{boxLabel} = [yshift=-0.4cm]
\tikzstyle{every node} = [node distance=1.75cm]

\node[state] (t1) {$b_1$};
\node[state] (t2) [below of=t1] {$b_2$};
\node[] (t3) [below of=t2] {$$};
\node[] (t4) [below of=t3, node distance=1cm] {$$};
\node[state] (tguard) [below left of=t2] {$r$};
\node[state] (tk) [below of=t4] {$b_k$};

\path (t1) [post,loop right] edge node [right] (l1) {$\disj{b_1}$} (t1);
\path (t1) [post] edge node[right] {$\disj{b_1}$} (t2);
\path (t2) [post,loop right] edge node [right] (l2) {$\disj{b_2}$} (t2);
\path (t2) [post,dashed] edge node[right] {$\disj{b_2}$} (t3);
\path (t3) [dotted] edge (t4);
\path (t4) [post,dashed] edge node[right] {$\disj{b_{k-1}}$} (tk);
\path (tk) [post,loop right] edge node[right] (l5) {$\disj{b_k}$} (tk);

\path (t1) [post] edge (tguard);
\path (t2) [post] edge (tguard);
\path (tk) [post] edge (tguard);
\path (tguard) [post,loop left] edge (tguard);

\node (U2) [draw=black, fit=(t1) (t2) (t3) (t4) (tk) (tguard) (l1) (l2) (l5), inner sep=0.75cm] {} ;
\node [boxLabel] at (U2.north) {Template $B$};
  
  
  \end{tikzpicture}



